<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <title>Ø±Ø³Ù€Ø¨ÙˆÙ† Ø¹Ø±Ø§Ù‚ ğŸ“</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'resbon-black': '#0a0a0a',
                        'resbon-dark': '#1a1a1a',
                        'resbon-red': '#dc2626',
                        'resbon-blue': '#2563eb',
                        'resbon-gray': '#2a2a2a'
                    },
                    fontFamily: {
                        'digital': ['Courier New', 'monospace'],
                        'arabic': ['Segoe UI', 'Tahoma', 'Geneva', 'Verdana', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap');
        body {
            font-family: 'Cairo', sans-serif;
            background: #0a0a0a;
            color: white;
        }
        .neon-text-red {
            text-shadow: 0 0 10px rgba(220, 38, 38, 0.8), 0 0 20px rgba(220, 38, 38, 0.4);
        }
        .neon-text-blue {
            text-shadow: 0 0 10px rgba(37, 99, 235, 0.8), 0 0 20px rgba(37, 99, 235, 0.4);
        }
        .glass-panel {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(220, 38, 38, 0.3);
        }
        .timer-glow {
            animation: pulse-glow 2s infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 5px rgba(220, 38, 38, 0.5); }
            50% { box-shadow: 0 0 20px rgba(220, 38, 38, 0.8), 0 0 40px rgba(37, 99, 235, 0.4); }
        }
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .progress-bar {
            transition: width 1s linear;
        }
    </style>
</head>
<body class="bg-resbon-black min-h-screen overflow-x-hidden">

    <!-- Header -->
    <header class="fixed top-0 w-full z-50 glass-panel border-b border-resbon-red/30">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-black border-2 border-resbon-red rounded-lg flex items-center justify-center shadow-lg shadow-red-900/50">
                    <span class="text-2xl font-black text-resbon-red neon-text-red">RS</span>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-white">Ø±Ø³Ù€Ø¨ÙˆÙ† Ø¹Ø±Ø§Ù‚</h1>
                    <p class="text-xs text-resbon-red">ğŸ“ Resbon Arena</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="hidden md:block text-left">
                    <p class="text-xs text-gray-400">Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…</p>
                    <p class="text-lg font-bold text-resbon-blue neon-text-blue" id="totalProfit">0 Ø¯.Ø¹</p>
                </div>
                <button onclick="showStats()" class="p-2 bg-resbon-dark border border-resbon-blue rounded-lg hover:bg-resbon-blue/20 transition">
                    <i data-feather="pie-chart" class="w-5 h-5 text-resbon-blue"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 pt-24 pb-20">
        
        <!-- Tab Navigation -->
        <div class="flex gap-2 mb-6 overflow-x-auto pb-2">
            <button onclick="switchTab('tables')" id="tab-tables" class="flex-1 py-3 px-6 bg-resbon-red text-white rounded-lg font-bold shadow-lg shadow-red-900/30 transition transform hover:scale-105 flex items-center justify-center gap-2">
                <i data-feather="grid"></i>
                <span>Ù…Ù†Ø¶Ø¯Ø§Øª Ø§Ù„Ø¨ÙŠÙ†Øº Ø¨ÙˆÙ†Øº</span>
            </button>
            <button onclick="switchTab('playstation')" id="tab-playstation" class="flex-1 py-3 px-6 bg-resbon-dark border border-resbon-blue text-white rounded-lg font-bold hover:bg-resbon-blue/20 transition transform hover:scale-105 flex items-center justify-center gap-2">
                <i data-feather="monitor"></i>
                <span>Ø¨Ù„Ø§ÙŠØ³ØªÙŠØ´Ù†</span>
            </button>
        </div>

        <!-- Tables Section -->
        <div id="section-tables" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Generated by JS -->
        </div>

        <!-- PlayStation Section -->
        <div id="section-playstation" class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Generated by JS -->
        </div>

    </main>

    <!-- Add Session Modal -->
    <div id="modal-add" class="fixed inset-0 bg-black/90 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="glass-panel rounded-2xl p-6 w-full max-w-md slide-in border-2 border-resbon-red">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-resbon-red neon-text-red">Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯</h2>
                <button onclick="closeModal('modal-add')" class="text-gray-400 hover:text-white">
                    <i data-feather="x"></i>
                </button>
            </div>
            
            <form id="form-add" onsubmit="handleAddSession(event)">
                <input type="hidden" id="deviceType">
                <input type="hidden" id="deviceId">
                
                <div class="mb-4">
                    <label class="block text-sm text-gray-400 mb-2">Ø§Ù„Ø¬Ù‡Ø§Ø²</label>
                    <div class="bg-resbon-dark p-3 rounded-lg border border-resbon-red/30 text-white font-bold" id="deviceLabel">
                        Ù…Ù†Ø¶Ø¯Ø© Ø±Ù‚Ù… 1
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-sm text-gray-400 mb-2">Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨</label>
                    <input type="text" id="playerName" required class="w-full bg-resbon-dark border border-resbon-gray rounded-lg p-3 text-white focus:border-resbon-red focus:outline-none transition" placeholder="Ù…Ø«Ø§Ù„: Ø¹Ø¨Ø§Ø³">
                </div>

                <div class="mb-4">
                    <label class="block text-sm text-gray-400 mb-2">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø²</label>
                    <div class="grid grid-cols-2 gap-2">
                        <button type="button" onclick="setDurationType('fixed')" id="btn-fixed" class="py-2 px-4 bg-resbon-red text-white rounded-lg border-2 border-resbon-red transition">
                            ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯
                        </button>
                        <button type="button" onclick="setDurationType('open')" id="btn-open" class="py-2 px-4 bg-resbon-dark text-gray-400 rounded-lg border-2 border-resbon-gray transition">
                            ÙˆÙ‚Øª Ù…ÙØªÙˆØ­
                        </button>
                    </div>
                </div>

                <div id="duration-selector" class="mb-4">
                    <label class="block text-sm text-gray-400 mb-2">Ø§Ù„Ù…Ø¯Ø©</label>
                    <div class="grid grid-cols-2 gap-2">
                        <button type="button" onclick="setDuration(15, 1000)" class="duration-btn py-3 bg-resbon-dark border border-resbon-gray rounded-lg hover:border-resbon-blue transition text-sm" data-min="15">
                            Ø±Ø¨Ø¹ Ø³Ø§Ø¹Ø©<br><span class="text-resbon-blue">1,000 Ø¯.Ø¹</span>
                        </button>
                        <button type="button" onclick="setDuration(30, 2000)" class="duration-btn py-3 bg-resbon-dark border border-resbon-gray rounded-lg hover:border-resbon-blue transition text-sm" data-min="30">
                            Ù†ØµÙ Ø³Ø§Ø¹Ø©<br><span class="text-resbon-blue">2,000 Ø¯.Ø¹</span>
                        </button>
                        <button type="button" onclick="setDuration(60, 4000)" class="duration-btn py-3 bg-resbon-dark border border-resbon-gray rounded-lg hover:border-resbon-blue transition text-sm" data-min="60">
                            Ø³Ø§Ø¹Ø© ÙƒØ§Ù…Ù„Ø©<br><span class="text-resbon-blue">4,000 Ø¯.Ø¹</span>
                        </button>
                        <button type="button" onclick="setDuration(0, 500)" class="duration-btn py-3 bg-resbon-dark border border-resbon-gray rounded-lg hover:border-resbon-blue transition text-sm" data-min="0">
                            Ù„Ø¹Ø¨Ø© ÙˆØ§Ø­Ø¯Ø©<br><span class="text-resbon-blue">500 Ø¯.Ø¹</span>
                        </button>
                    </div>
                </div>

                <div class="mb-6 p-4 bg-resbon-dark/50 rounded-lg border border-resbon-blue/30">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                        <span class="text-2xl font-bold text-resbon-red neon-text-red" id="totalPrice">0 Ø¯.Ø¹</span>
                    </div>
                </div>

                <button type="submit" class="w-full py-4 bg-gradient-to-r from-resbon-red to-red-800 text-white font-bold rounded-lg shadow-lg shadow-red-900/50 hover:shadow-red-900/80 transition transform hover:scale-[1.02]">
                    Ø¨Ø¯Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©
                </button>
            </form>
        </div>
    </div>

    <!-- Manage Session Modal -->
    <div id="modal-manage" class="fixed inset-0 bg-black/90 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="glass-panel rounded-2xl p-6 w-full max-w-md slide-in border-2 border-resbon-blue">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-resbon-blue neon-text-blue">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ù„Ø³Ø©</h2>
                <button onclick="closeModal('modal-manage')" class="text-gray-400 hover:text-white">
                    <i data-feather="x"></i>
                </button>
            </div>

            <div id="session-info" class="mb-6 space-y-3">
                <!-- Filled by JS -->
            </div>

            <div class="grid grid-cols-2 gap-3 mb-4">
                <button onclick="extendSession()" class="py-3 bg-resbon-dark border border-resbon-blue rounded-lg hover:bg-resbon-blue/20 transition flex flex-col items-center gap-1">
                    <i data-feather="plus-circle" class="text-resbon-blue"></i>
                    <span class="text-sm">ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ÙˆÙ‚Øª</span>
                </button>
                <button onclick="togglePause()" id="btn-pause" class="py-3 bg-resbon-dark border border-yellow-600 rounded-lg hover:bg-yellow-900/20 transition flex flex-col items-center gap-1">
                    <i data-feather="pause" class="text-yellow-600"></i>
                    <span class="text-sm">Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª</span>
                </button>
            </div>

            <div class="grid grid-cols-2 gap-3 mb-6">
                <button onclick="convertToFixed()" class="py-3 bg-resbon-dark border border-resbon-red rounded-lg hover:bg-resbon-red/20 transition flex flex-col items-center gap-1">
                    <i data-feather="clock" class="text-resbon-red"></i>
                    <span class="text-sm">ØªØ­ÙˆÙŠÙ„ Ù„ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯</span>
                </button>
                <button onclick="endSession()" class="py-3 bg-red-900/30 border border-red-600 rounded-lg hover:bg-red-900/50 transition flex flex-col items-center gap-1">
                    <i data-feather="stop-circle" class="text-red-600"></i>
                    <span class="text-sm">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©</span>
                </button>
            </div>

            <div id="extend-options" class="hidden mb-4 p-4 bg-resbon-dark rounded-lg border border-resbon-gray">
                <h3 class="text-sm text-gray-400 mb-3">Ø§Ø®ØªØ± Ù…Ø¯Ø© Ø§Ù„ØªÙ…Ø¯ÙŠØ¯:</h3>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="addTime(15, 1000)" class="py-2 bg-resbon-dark border border-resbon-gray rounded text-xs hover:border-resbon-red">
                        +15 Ø¯<br>1,000
                    </button>
                    <button onclick="addTime(30, 2000)" class="py-2 bg-resbon-dark border border-resbon-gray rounded text-xs hover:border-resbon-red">
                        +30 Ø¯<br>2,000
                    </button>
                    <button onclick="addTime(60, 4000)" class="py-2 bg-resbon-dark border border-resbon-gray rounded text-xs hover:border-resbon-red">
                        +60 Ø¯<br>4,000
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Stats Modal -->
    <div id="modal-stats" class="fixed inset-0 bg-black/90 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="glass-panel rounded-2xl p-6 w-full max-w-lg slide-in border-2 border-resbon-blue">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…</h2>
                <button onclick="closeModal('modal-stats')" class="text-gray-400 hover:text-white">
                    <i data-feather="x"></i>
                </button>
            </div>
            
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-resbon-dark p-4 rounded-lg border border-resbon-red/30 text-center">
                    <p class="text-gray-400 text-sm">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</p>
                    <p class="text-2xl font-bold text-resbon-red neon-text-red mt-1" id="stats-total">0 Ø¯.Ø¹</p>
                </div>
                <div class="bg-resbon-dark p-4 rounded-lg border border-resbon-blue/30 text-center">
                    <p class="text-gray-400 text-sm">Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ù„Ø³Ø§Øª</p>
                    <p class="text-2xl font-bold text-resbon-blue neon-text-blue mt-1" id="stats-count">0</p>
                </div>
            </div>

            <div class="bg-resbon-dark rounded-lg p-4 max-h-64 overflow-y-auto">
                <h3 class="text-sm text-gray-400 mb-3">Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©</h3>
                <div id="completed-sessions" class="space-y-2">
                    <!-- Filled by JS -->
                </div>
            </div>

            <button onclick="resetStats()" class="w-full mt-4 py-3 bg-red-900/20 border border-red-600 text-red-400 rounded-lg hover:bg-red-900/40 transition text-sm">
                ØªØµÙÙŠØ± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (ÙŠÙˆÙ… Ø¬Ø¯ÙŠØ¯)
            </button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>feather.replace();</script>
</body>
</html>
